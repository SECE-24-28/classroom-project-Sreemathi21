<!--<!DOCTYPE html>
<html>
    <head>

    </head>
    <body>
        <button onclick="fetch_API()" id="btn">click me</button>
         <input type="text" id="t1">
        <p id="pa"> </p>
        <ol id="olist"></ol>
        <script>
            let t1=document.getElementById("t1");
    let olist=document.getElementById("olist");
            let fetch_API=async()=>{
                try{
 let res=await fetch("https://jsonplaceholder.typicode.com/users");
                let data=await res.json();
                let para=document.getElementById("pa");
                 let html = "<table border='1'>";
    data.forEach(user => {
        html += `
            <tr>
                <td><b>${user.name}</b></td>
                <td><i>${user.email}</i></td>
                <td><mark>${user.company.name}</mark></td>
            </tr>`;
    });
    html += "</table>";

    para.innerHTML = html;

   
                }   catch(error){
                    console.log("error occured",error);
                     document.getElementById("pa").innerHTML = "Something went wrong!";
                }
               
  
                
            }
            
        </script>
    </body>
</html>-->

<!--     para.innerHTML="";
                data.forEach((user)=>{
                    para.innerHTML+=`<table border="2"><tr>
                        <td><b>${user.name}</b> - <i>${user.email}</i>-<mark>${user.company.name}</mark><br></td></tr></table>`;
                });
                without table also we can do like this
--><!DOCTYPE html>
<html>
<head></head>
<body id="main">

<button onclick="fetch_API()">click me</button>
<input type="text" id="t1" placeholder="Search name...">
<ol id="olist"></ol>

<script>
let t1 = document.getElementById("t1");
let olist = document.getElementById("olist");
let data = [];  // store API data globally

let fetch_API = async () => {
    try {
        let res = await fetch("https://jsonplaceholder.typicode.com/users");
        data = await res.json();  

        let para = document.getElementById("pa");
        para.innerHTML = "";

        // ✅ your original code
        data.forEach((user)=>{
            para.innerHTML += `
                <table border="2">
                    <tr>
                        <td>
                            <b>${user.name}</b> - 
                            <i>${user.email}</i> - 
                            <mark>${user.company.name}</mark>
                        </td>
                    </tr>
                </table>`;
        });

    } catch (error) {
        console.log("Error occurred", error);
    }
};

// ✅ Search function
function demo() {
    olist.innerHTML = "";

    let keyword = t1.value.toLowerCase();

    let filtered = data.filter(user =>
        user.name.toLowerCase().includes(keyword)
    );

    filtered.forEach(user => {
        let li = document.createElement("li");
        li.innerText = `${user.name} - ${user.email}`;
        olist.appendChild(li);
    });
}

t1.addEventListener("keyup", demo);
</script>

<p id="pa"></p>

</body>
</html>
